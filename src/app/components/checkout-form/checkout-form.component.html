<div class="bg-light col-10 offset-1 col-lg-8 offset-lg-2 my-5 pb-3" *ngIf="user">

  <div class="container">
    <div class="py-5 text-center">
      <h2 class="orangeColor">Checkout form</h2>
    </div>

    <div class="row">
      <div class="col-md-6 order-md-2 mb-4">
        <h4 class="d-flex justify-content-between align-items-center mb-3">
          <span class="text-muted">Your cart</span>
          <span class="badge orangeBg text-white badge-pill">{{user?.products.length}}</span>
        </h4>
        <ul class="list-group mb-3">
          <li class="list-group-item d-flex justify-content-between lh-condensed row m-0 p-0 p-3"
            *ngFor="let product of user?.products">
            <div class="col-5 p-0 pl-2">
              <h6 class="my-0 text-capitalize">{{product.product.title}}</h6>
              <small class="text-muted">{{product.product.details}}</small>
            </div>
            <div class="text-center col-2 p-0">
              <h6 class="my-0">Quantity</h6>
              <small class="text-muted ">{{product.quantityordered}}</small>
            </div>
            <span
              class="text-muted orangeColor offset-3 col-2 p-0 mt-1">${{product.product.price * product.quantityordered}}</span>
          </li>
          <li class="list-group-item d-flex justify-content-between lh-condensed row m-0 p-0 mt-5 border-top p-3">
            <div class=" col-9 p-0 pl-2">
              <h5 class="my-0">Total Price</h5>
            </div>
            
            <div class=" p-0 col-3 p-0 mt-1">
              <h5 class="my-0 orangeColor">$ {{totalPrice}}</h5>
            </div>
            
          </li>
        </ul>

      </div>
      <div class="col-md-6 order-md-1">
        <h4 class="mb-3">Billing address</h4>
        <form class="needs-validation" [formGroup]="checkoutForm" (ngSubmit)="validateInput()">

          <div class="mb-3">
            <label for="username">Username</label>
            <div class="input-group">
              <div class="input-group-prepend">
                <span class="input-group-text">@</span>
              </div>
              <input formControlName="username" type="text" class="form-control" id="username" placeholder="Username"
                disabled>
            </div>
          </div>

          <div class="mb-3">
            <label for="email">Email</label>
            <input formControlName="email" type="email" class="form-control" id="email" disabled>
          </div>

          <div class="mb-3">
            <label for="address">Address</label>
            <input formControlName="address" type="text" class="form-control" id="address" placeholder="1234 Main st">
            <div class="alert alert-danger col-12 mt-2" *ngIf="!addressStatus">
              Please enter your shipping address.
            </div>
          </div>

          <hr class="mb-4">

          <h4 class="mb-3">Payment</h4>
          <div class="d-block my-3">
            <h6 class="text-secondary">Cash on delivery</h6>
          </div>
          <hr class="mb-4">
          <button class="btn orangeBg text-white btn-lg btn-block" type="submit">Confirm checkout</button>
        </form>
      </div>
    </div>
  </div>
</div>